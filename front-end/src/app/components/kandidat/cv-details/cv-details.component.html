<app-navbar user='neregistrovani'></app-navbar>

<div class="d-flex flex-column container me-auto ms-auto">


  <!-- Breadcrumbs -->
  <div class="d-flex flex-row nav-link pregled-breadcrumbs text-dark">
    <a type="button nav-link" style="color: #84B59F;; font-size: larger;  text-decoration: none;"
       [routerLink]="['/home-kandidat/']">Home > </a>
    <p style="color: #84B59F; font-size: larger;" [routerLink]="['/cv/']"> > CV >
    <p style="color: #84B59F; font-size: larger;"> > {{ this.cv?.naziv }}
  </div>
  <!-- Breadcrumbs -->


  <div class="fw-bold tekst mb-4">{{ this.cv?.naziv }}</div>


  <!--Personal Details-->

  <div class="fs-5 me-auto ms-auto mb-2"> {{ this.cv?.ime }} {{ this.cv?.prezime }}</div>
  <div class="me-auto ms-auto">{{ this.cv?.grad }} {{ this.cv?.drzava }}</div>
  <div class="ms-auto">{{ this.cv?.email }}</div>
  <div class="me-auto">{{ this.cv?.brojTelefona }}</div>

  <!--Personal Details-->


  <!--Professional Summary-->

  <div *ngIf="this.cv?.profesionalniSazetak" class="section">
    <div class="fw-bold tekst mb-4 fs-5 mt-2 mb-2 d-flex justify-content-center">Professional Summary</div>
    <div>{{ this.cv?.profesionalniSazetak }}</div>
  </div>

  <!--Professional Summary-->


  <!--Education-->

  <div *ngIf="this.cv?.edukacija?.$values" class="section">
    <div class="fw-bold tekst mb-4 fs-5 mt-2 mb-2 d-flex justify-content-center">Education</div>
    <div class="edukacije"
         *ngFor="let edukacija of this.cv?.edukacija?.$values">

      <div class="education-content d-flex row align-items-center">
        <div class="d-flex column justify-content-between">
          <div class="fw-bold">
            {{ edukacija.nazivSkole }}
          </div>
          <div>
            <div *ngIf="edukacija.datumPocetka && edukacija.datumZavrsetka">
              {{ edukacija.datumPocetka | date: 'MMMM yyyy' }} -  {{ edukacija.datumZavrsetka | date: 'MMMM yyyy' }}
            </div>
            <div *ngIf="edukacija.grad" class="d-flex justify-content-end">
              {{ edukacija.grad }}
            </div>
          </div>
        </div>
        <div *ngIf="edukacija.opis">
          {{ edukacija.opis }}
        </div>
      </div>
    </div>
  </div>

  <!--Education-->


  <!--Employment History-->

  <div *ngIf="this.cv?.zaposlenje?.$values" class="section">
    <div class="fw-bold tekst mb-4 fs-5 mt-2 mb-2 d-flex justify-content-center">Employment History</div>
    <div class="zaposlenje"
         *ngFor="let zasposljenje of this.cv?.zaposlenje?.$values">

      <div class="employment-content d-flex row align-items-center">
        <div class="d-flex column justify-content-between">
          <div class="fw-bold">
            {{ zasposljenje.nazivKompanije }} - {{ zasposljenje.nazivPozicije }}
          </div>
          <div>
            <div *ngIf="zasposljenje.datumPocetka && zasposljenje.datumZavrsetka">
              {{ zasposljenje.datumPocetka | date: 'MMMM yyyy' }}
              -  {{ zasposljenje.datumZavrsetka | date: 'MMMM yyyy' }}
            </div>
          </div>
        </div>
        <div *ngIf="zasposljenje.opis">
          {{ zasposljenje.opis }}
        </div>
      </div>
    </div>
  </div>

  <!--Employment History-->


  <div class="vjestine-tehnicke-vjestine mb-4 ">


    <!--Skills-->

    <div *ngIf="this.cv?.vjestine?.$values" class="section">
      <div class="fw-bold tekst mb-4 fs-5 mt-2 mb-2 d-flex justify-content-center">Skills</div>
      <div class="vjestine"
           *ngFor="let vjestina of this.cv?.vjestine?.$values">

        {{ vjestina }}
      </div>
    </div>

    <!--Skills-->

    <!--Technical Skills-->

    <div *ngIf="this.cv?.tehnickeVjestine?.$values" class="section">
      <div class="fw-bold tekst mb-4 fs-5 mt-2 mb-2 d-flex justify-content-center">Technical Skills</div>
      <div class="tehnickeVjestine"
           *ngFor="let vjestina of this.cv?.tehnickeVjestine?.$values">

        {{ vjestina }}
      </div>
    </div>

    <!--Technical Skills-->

  </div>


  <!--Courses-->

  <div *ngIf="this.cv?.kursevi?.$values" class="section">
    <div class="fw-bold tekst mb-4 fs-5 mt-2 mb-2 d-flex justify-content-center">Courses</div>
    <div class="kursevi"
         *ngFor="let kurs of this.cv?.kursevi?.$values">

      {{ kurs }}
    </div>
  </div>

  <!--Courses-->


  <!--Websites & Links-->

  <div *ngIf="this.cv?.url?.$values" class="section">
    <div class="fw-bold tekst mb-4 fs-5 mt-2 mb-2 d-flex justify-content-center">Websites & Links</div>
    <div class="linkovi "
         *ngFor="let link of this.cv?.url?.$values">

      {{ link.naziv }}: {{ link.putanja }}
    </div>
  </div>

  <!--Websites & Links-->


  <div class="button-section">
    <div class="d-flex flex-row mt-2">
      <button type="button" class="btn-danger" (click)="openDeleteModal()">Delete
      </button>
      <button type="button" class="btn-confirm d-flex justify-content-center align-middle"
              [routerLink]="'/cv-create'">Edit
      </button>
      <button *ngIf="this.cv?.objavljen" type="button" class="btn-confirm d-flex justify-content-center align-middle"
              (click)="openUnPublishModal()"> Unpublish
      </button>
      <button *ngIf="!this.cv?.objavljen" type="button" class="btn-confirm d-flex justify-content-center align-middle"
              (click)="openPublishModal()"> Publish
      </button>
    </div>
  </div>
</div>


<!-- Modal -->
<div class="modal fade" id="confirmDeleteModal" tabindex="-1" aria-labelledby="confirmDeleteModalLabel"
     aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="confirmDeleteModalLabel">Confirm Delete</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Are you sure you want to delete this cv?
      </div>
      <div class="modal-footer">
        <button type="button" class="nav-link btn-cancel" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="nav-link btn-confirm" (click)="confirmDelete()">Delete</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->


<!-- Modal -->
<div class="modal fade" id="confirmPublishModal" tabindex="-1" aria-labelledby="confirmPublishModalLabel"
     aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="confirmPublishModalLabel">Confirm Delete</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Are you sure you want to publish this cv?
      </div>
      <div class="modal-footer">
        <button type="button" class="nav-link btn-cancel" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="nav-link btn-confirm" (click)="confirmPublish()">Publish</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->

<!-- Modal -->
<div class="modal fade" id="confirmUnPublishModal" tabindex="-1" aria-labelledby="confirmUnPublishModalLabel"
     aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="confirmUnPublishModalLabel">Confirm Delete</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Are you sure you want to unpublish this cv?
      </div>
      <div class="modal-footer">
        <button type="button" class="nav-link btn-cancel" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="nav-link btn-confirm" (click)="confirmUnPublish()">Unpublish</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->


